var currentItem = 0
var selectedItem = -1;
var appsList = new Array();
class mainChronvs {
  constructor(tela) {
    this.tela = tela;
    this.appsModuleList;
    this.selectedItem = -1;
    this.currentItem = 0;
    this.appsList = new Array();
  }
  getApps() {
    this.appsModuleList = require("Storage").list(/\apjs/);
    this.appsModuleList.forEach((appName, index) => {
      var app = new (require(appName))();
      this.appsList.push({appName, name: app.getName(), icon: app.getIcon()});
    });
    this.tela.clear();
    return this.appsModuleList;
  }
  showMenu() {
    var yPos = 0;
    this.tela.clear();
    this.tela.drawString('app.name', 5, 50);
    this.appsList.forEach((app, index) => {
      //if (this.currentItem == index) {this.tela.drawRect(0, yPos, 239, yPos+25);}
      console.log(app.name);
      this.tela.drawString(app.name, 5, yPos+1);
      yPos += 25;
    });
  }
  move(index) {
    this.currentItem+=Number(index);
    if(this.currentItem < 0) {
      this.currentItem = this.appsList.length - 1;
    } else if(this.currentItem > this.appsList.length - 1) {
      this.currentItem = 0;
    }
    console.log(this.currentItem);
  }
}
exports = mainChronvs
